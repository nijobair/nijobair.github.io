{
    "stmt": "WITH fk_info AS (\n  SELECT\n      json_group_array(\n          json_object(\n              'schema', '',  -- SQLite does not have schemas\n              'table', m.name,\n              'column', fk.\"from\",\n              'foreign_key_name',\n                  'fk_' || m.name || '_' || fk.\"from\" || '_' || fk.\"table\" || '_' || fk.\"to\",  -- Generated foreign key name\n              'reference_schema', '', -- SQLite does not have schemas\n              'reference_table', fk.\"table\",\n              'reference_column', fk.\"to\",\n              'fk_def',\n                  'FOREIGN KEY (' || fk.\"from\" || ') REFERENCES ' || fk.\"table\" || '(' || fk.\"to\" || ')' ||\n                  ' ON UPDATE ' || fk.on_update || ' ON DELETE ' || fk.on_delete\n          )\n      ) AS fk_metadata\n  FROM\n      sqlite_master m\n  JOIN\n      pragma_foreign_key_list(m.name) fk\n  ON\n      m.type = 'table'\n), pk_info AS (\n  SELECT\n      json_group_array(\n          json_object(\n              'schema', '',  -- SQLite does not have schemas\n              'table', pk.table_name,\n              'field_count', pk.field_count,\n              'column', pk.pk_column,\n              'pk_def', 'PRIMARY KEY (' || pk.pk_column || ')'\n          )\n      ) AS pk_metadata\n  FROM\n  (\n      SELECT\n          m.name AS table_name,\n          COUNT(p.name) AS field_count,  -- Count of primary key columns\n          GROUP_CONCAT(p.name) AS pk_column  -- Concatenated list of primary key columns\n      FROM\n          sqlite_master m\n      JOIN\n          pragma_table_info(m.name) p\n      ON\n          m.type = 'table' AND p.pk > 0\n      GROUP BY\n          m.name\n  ) pk\n), indexes_metadata AS (\n  SELECT\n      json_group_array(\n          json_object(\n              'schema', '',  -- SQLite does not have schemas\n              'table', m.name,\n              'name', idx.name,\n              'column', ic.name,\n              'index_type', 'B-TREE',  -- SQLite uses B-Trees for indexing\n              'cardinality', '',  -- SQLite does not provide cardinality\n              'size', '',  -- SQLite does not provide index size\n              'unique', (CASE WHEN idx.\"unique\" = 1 THEN 'true' ELSE 'false' END),\n              'direction', '',  -- SQLite does not provide direction info\n              'column_position', ic.seqno + 1  -- Adding 1 to convert from zero-based to one-based index\n          )\n      ) AS indexes_metadata\n  FROM\n      sqlite_master m\n  JOIN\n      pragma_index_list(m.name) idx\n  ON\n      m.type = 'table'\n  JOIN\n      pragma_index_info(idx.name) ic\n), cols AS (\n  SELECT\n      json_group_array(\n          json_object(\n              'schema', '',  -- SQLite does not have schemas\n              'table', m.name,\n              'name', p.name,\n              'type',\n                  CASE\n                      WHEN INSTR(LOWER(p.type), '(') > 0 THEN\n                          SUBSTR(LOWER(p.type), 1, INSTR(LOWER(p.type), '(') - 1)\n                      ELSE LOWER(p.type)\n                  END,\n              'ordinal_position', p.cid,\n              'nullable', (CASE WHEN p.\"notnull\" = 0 THEN 'true' ELSE 'false' END),\n              'collation', '',\n              'character_maximum_length',\n                  CASE\n                      WHEN LOWER(p.type) LIKE 'char%' OR LOWER(p.type) LIKE 'varchar%' THEN\n                          CASE\n                              WHEN INSTR(p.type, '(') > 0 THEN\n                                  REPLACE(SUBSTR(p.type, INSTR(p.type, '(') + 1, LENGTH(p.type) - INSTR(p.type, '(') - 1), ')', '')\n                              ELSE 'null'\n                          END\n                      ELSE 'null'\n                  END,\n              'precision',\n              CASE\n                  WHEN LOWER(p.type) LIKE 'decimal%' OR LOWER(p.type) LIKE 'numeric%' THEN\n                      CASE\n                          WHEN instr(p.type, '(') > 0 THEN\n                              json_object(\n                                  'precision', substr(p.type, instr(p.type, '(') + 1, instr(p.type, ',') - instr(p.type, '(') - 1),\n                                  'scale', substr(p.type, instr(p.type, ',') + 1, instr(p.type, ')') - instr(p.type, ',') - 1)\n                              )\n                          ELSE 'null'\n                      END\n                  ELSE 'null'\n              END,\n              'default', COALESCE(REPLACE(p.dflt_value, '\"', '\\\"'), '')\n          )\n      ) AS cols_metadata\n  FROM\n      sqlite_master m\n  JOIN\n      pragma_table_info(m.name) p\n  ON\n      m.type in ('table', 'view')\n), tbls AS (\n  SELECT\n      json_group_array(\n          json_object(\n              'schema', '',  -- SQLite does not have schemas\n              'table', m.name,\n              'rows', -1,\n              'type', 'table',\n              'engine', '',  -- SQLite does not use storage engines\n              'collation', ''  -- Collation information is not available\n          )\n      ) AS tbls_metadata\n  FROM\n      sqlite_master m\n  WHERE\n      m.type in ('table', 'view')\n), views AS (\n  SELECT\n      json_group_array(\n          json_object(\n              'schema', '',\n              'view_name', m.name\n          )\n      ) AS views_metadata\n  FROM\n      sqlite_master m\n  WHERE\n      m.type = 'view'\n)\nSELECT\nreplace(replace(replace(\n      json_object(\n          'fk_info', (SELECT fk_metadata FROM fk_info),\n          'pk_info', (SELECT pk_metadata FROM pk_info),\n          'columns', (SELECT cols_metadata FROM cols),\n          'indexes', (SELECT indexes_metadata FROM indexes_metadata),\n          'tables', (SELECT tbls_metadata FROM tbls),\n          'views', (SELECT views_metadata FROM views),\n          'database_name', 'sqlite',\n          'version', sqlite_version()\n      ),\n      '\\\"', '\"'),'\"[', '['), ']\"', ']'\n) AS metadata_json_to_import;",
    "header": [
        "metadata_json_to_import"
    ],
    "rows": [
        [
            "{\"fk_info\":[{\"schema\":\"\",\"table\":\"Doctors\",\"column\":\"DepartmentID\",\"foreign_key_name\":\"fk_Doctors_DepartmentID_Departments_DepartmentID\",\"reference_schema\":\"\",\"reference_table\":\"Departments\",\"reference_column\":\"DepartmentID\",\"fk_def\":\"FOREIGN KEY (DepartmentID) REFERENCES Departments(DepartmentID) ON UPDATE NO ACTION ON DELETE NO ACTION\"},{\"schema\":\"\",\"table\":\"Appointments\",\"column\":\"DoctorID\",\"foreign_key_name\":\"fk_Appointments_DoctorID_Doctors_DoctorID\",\"reference_schema\":\"\",\"reference_table\":\"Doctors\",\"reference_column\":\"DoctorID\",\"fk_def\":\"FOREIGN KEY (DoctorID) REFERENCES Doctors(DoctorID) ON UPDATE NO ACTION ON DELETE NO ACTION\"},{\"schema\":\"\",\"table\":\"Appointments\",\"column\":\"PatientID\",\"foreign_key_name\":\"fk_Appointments_PatientID_Patients_PatientID\",\"reference_schema\":\"\",\"reference_table\":\"Patients\",\"reference_column\":\"PatientID\",\"fk_def\":\"FOREIGN KEY (PatientID) REFERENCES Patients(PatientID) ON UPDATE NO ACTION ON DELETE NO ACTION\"},{\"schema\":\"\",\"table\":\"MedicalRecords\",\"column\":\"DoctorID\",\"foreign_key_name\":\"fk_MedicalRecords_DoctorID_Doctors_DoctorID\",\"reference_schema\":\"\",\"reference_table\":\"Doctors\",\"reference_column\":\"DoctorID\",\"fk_def\":\"FOREIGN KEY (DoctorID) REFERENCES Doctors(DoctorID) ON UPDATE NO ACTION ON DELETE NO ACTION\"},{\"schema\":\"\",\"table\":\"MedicalRecords\",\"column\":\"PatientID\",\"foreign_key_name\":\"fk_MedicalRecords_PatientID_Patients_PatientID\",\"reference_schema\":\"\",\"reference_table\":\"Patients\",\"reference_column\":\"PatientID\",\"fk_def\":\"FOREIGN KEY (PatientID) REFERENCES Patients(PatientID) ON UPDATE NO ACTION ON DELETE NO ACTION\"}],\"pk_info\":[{\"schema\":\"\",\"table\":\"Appointments\",\"field_count\":1,\"column\":\"AppointmentID\",\"pk_def\":\"PRIMARY KEY (AppointmentID)\"},{\"schema\":\"\",\"table\":\"Departments\",\"field_count\":1,\"column\":\"DepartmentID\",\"pk_def\":\"PRIMARY KEY (DepartmentID)\"},{\"schema\":\"\",\"table\":\"Doctors\",\"field_count\":1,\"column\":\"DoctorID\",\"pk_def\":\"PRIMARY KEY (DoctorID)\"},{\"schema\":\"\",\"table\":\"MedicalRecords\",\"field_count\":1,\"column\":\"RecordID\",\"pk_def\":\"PRIMARY KEY (RecordID)\"},{\"schema\":\"\",\"table\":\"Patients\",\"field_count\":1,\"column\":\"PatientID\",\"pk_def\":\"PRIMARY KEY (PatientID)\"},{\"schema\":\"\",\"table\":\"Treatments\",\"field_count\":1,\"column\":\"TreatmentID\",\"pk_def\":\"PRIMARY KEY (TreatmentID)\"}],\"columns\":[{\"schema\":\"\",\"table\":\"Departments\",\"name\":\"DepartmentID\",\"type\":\"int\",\"ordinal_position\":0,\"nullable\":\"true\",\"collation\":\"\",\"character_maximum_length\":\"null\",\"precision\":\"null\",\"default\":\"\"},{\"schema\":\"\",\"table\":\"Departments\",\"name\":\"DepartmentName\",\"type\":\"varchar\",\"ordinal_position\":1,\"nullable\":\"false\",\"collation\":\"\",\"character_maximum_length\":\"50\",\"precision\":\"null\",\"default\":\"\"},{\"schema\":\"\",\"table\":\"Doctors\",\"name\":\"DoctorID\",\"type\":\"int\",\"ordinal_position\":0,\"nullable\":\"true\",\"collation\":\"\",\"character_maximum_length\":\"null\",\"precision\":\"null\",\"default\":\"\"},{\"schema\":\"\",\"table\":\"Doctors\",\"name\":\"FirstName\",\"type\":\"varchar\",\"ordinal_position\":1,\"nullable\":\"false\",\"collation\":\"\",\"character_maximum_length\":\"50\",\"precision\":\"null\",\"default\":\"\"},{\"schema\":\"\",\"table\":\"Doctors\",\"name\":\"LastName\",\"type\":\"varchar\",\"ordinal_position\":2,\"nullable\":\"false\",\"collation\":\"\",\"character_maximum_length\":\"50\",\"precision\":\"null\",\"default\":\"\"},{\"schema\":\"\",\"table\":\"Doctors\",\"name\":\"DepartmentID\",\"type\":\"int\",\"ordinal_position\":3,\"nullable\":\"true\",\"collation\":\"\",\"character_maximum_length\":\"null\",\"precision\":\"null\",\"default\":\"\"},{\"schema\":\"\",\"table\":\"Doctors\",\"name\":\"Specialization\",\"type\":\"varchar\",\"ordinal_position\":4,\"nullable\":\"true\",\"collation\":\"\",\"character_maximum_length\":\"100\",\"precision\":\"null\",\"default\":\"\"},{\"schema\":\"\",\"table\":\"Doctors\",\"name\":\"HireDate\",\"type\":\"date\",\"ordinal_position\":5,\"nullable\":\"true\",\"collation\":\"\",\"character_maximum_length\":\"null\",\"precision\":\"null\",\"default\":\"\"},{\"schema\":\"\",\"table\":\"Patients\",\"name\":\"PatientID\",\"type\":\"int\",\"ordinal_position\":0,\"nullable\":\"true\",\"collation\":\"\",\"character_maximum_length\":\"null\",\"precision\":\"null\",\"default\":\"\"},{\"schema\":\"\",\"table\":\"Patients\",\"name\":\"FirstName\",\"type\":\"varchar\",\"ordinal_position\":1,\"nullable\":\"false\",\"collation\":\"\",\"character_maximum_length\":\"50\",\"precision\":\"null\",\"default\":\"\"},{\"schema\":\"\",\"table\":\"Patients\",\"name\":\"LastName\",\"type\":\"varchar\",\"ordinal_position\":2,\"nullable\":\"false\",\"collation\":\"\",\"character_maximum_length\":\"50\",\"precision\":\"null\",\"default\":\"\"},{\"schema\":\"\",\"table\":\"Patients\",\"name\":\"Gender\",\"type\":\"char\",\"ordinal_position\":3,\"nullable\":\"true\",\"collation\":\"\",\"character_maximum_length\":\"1\",\"precision\":\"null\",\"default\":\"\"},{\"schema\":\"\",\"table\":\"Patients\",\"name\":\"DateOfBirth\",\"type\":\"date\",\"ordinal_position\":4,\"nullable\":\"true\",\"collation\":\"\",\"character_maximum_length\":\"null\",\"precision\":\"null\",\"default\":\"\"},{\"schema\":\"\",\"table\":\"Patients\",\"name\":\"ContactNumber\",\"type\":\"varchar\",\"ordinal_position\":5,\"nullable\":\"true\",\"collation\":\"\",\"character_maximum_length\":\"15\",\"precision\":\"null\",\"default\":\"\"},{\"schema\":\"\",\"table\":\"Patients\",\"name\":\"LastVisitDate\",\"type\":\"date\",\"ordinal_position\":6,\"nullable\":\"true\",\"collation\":\"\",\"character_maximum_length\":\"null\",\"precision\":\"null\",\"default\":\"\"},{\"schema\":\"\",\"table\":\"Appointments\",\"name\":\"AppointmentID\",\"type\":\"int\",\"ordinal_position\":0,\"nullable\":\"true\",\"collation\":\"\",\"character_maximum_length\":\"null\",\"precision\":\"null\",\"default\":\"\"},{\"schema\":\"\",\"table\":\"Appointments\",\"name\":\"PatientID\",\"type\":\"int\",\"ordinal_position\":1,\"nullable\":\"true\",\"collation\":\"\",\"character_maximum_length\":\"null\",\"precision\":\"null\",\"default\":\"\"},{\"schema\":\"\",\"table\":\"Appointments\",\"name\":\"DoctorID\",\"type\":\"int\",\"ordinal_position\":2,\"nullable\":\"true\",\"collation\":\"\",\"character_maximum_length\":\"null\",\"precision\":\"null\",\"default\":\"\"},{\"schema\":\"\",\"table\":\"Appointments\",\"name\":\"AppointmentDate\",\"type\":\"datetime\",\"ordinal_position\":3,\"nullable\":\"true\",\"collation\":\"\",\"character_maximum_length\":\"null\",\"precision\":\"null\",\"default\":\"\"},{\"schema\":\"\",\"table\":\"Appointments\",\"name\":\"Status\",\"type\":\"varchar\",\"ordinal_position\":4,\"nullable\":\"true\",\"collation\":\"\",\"character_maximum_length\":\"20\",\"precision\":\"null\",\"default\":\"\"},{\"schema\":\"\",\"table\":\"MedicalRecords\",\"name\":\"RecordID\",\"type\":\"int\",\"ordinal_position\":0,\"nullable\":\"true\",\"collation\":\"\",\"character_maximum_length\":\"null\",\"precision\":\"null\",\"default\":\"\"},{\"schema\":\"\",\"table\":\"MedicalRecords\",\"name\":\"PatientID\",\"type\":\"int\",\"ordinal_position\":1,\"nullable\":\"true\",\"collation\":\"\",\"character_maximum_length\":\"null\",\"precision\":\"null\",\"default\":\"\"},{\"schema\":\"\",\"table\":\"MedicalRecords\",\"name\":\"DoctorID\",\"type\":\"int\",\"ordinal_position\":2,\"nullable\":\"true\",\"collation\":\"\",\"character_maximum_length\":\"null\",\"precision\":\"null\",\"default\":\"\"},{\"schema\":\"\",\"table\":\"MedicalRecords\",\"name\":\"VisitDate\",\"type\":\"date\",\"ordinal_position\":3,\"nullable\":\"true\",\"collation\":\"\",\"character_maximum_length\":\"null\",\"precision\":\"null\",\"default\":\"\"},{\"schema\":\"\",\"table\":\"MedicalRecords\",\"name\":\"Diagnosis\",\"type\":\"varchar\",\"ordinal_position\":4,\"nullable\":\"true\",\"collation\":\"\",\"character_maximum_length\":\"255\",\"precision\":\"null\",\"default\":\"\"},{\"schema\":\"\",\"table\":\"MedicalRecords\",\"name\":\"Treatment\",\"type\":\"varchar\",\"ordinal_position\":5,\"nullable\":\"true\",\"collation\":\"\",\"character_maximum_length\":\"255\",\"precision\":\"null\",\"default\":\"\"},{\"schema\":\"\",\"table\":\"Treatments\",\"name\":\"TreatmentID\",\"type\":\"int\",\"ordinal_position\":0,\"nullable\":\"true\",\"collation\":\"\",\"character_maximum_length\":\"null\",\"precision\":\"null\",\"default\":\"\"},{\"schema\":\"\",\"table\":\"Treatments\",\"name\":\"TreatmentName\",\"type\":\"varchar\",\"ordinal_position\":1,\"nullable\":\"true\",\"collation\":\"\",\"character_maximum_length\":\"100\",\"precision\":\"null\",\"default\":\"\"},{\"schema\":\"\",\"table\":\"Treatments\",\"name\":\"Cost\",\"type\":\"decimal\",\"ordinal_position\":2,\"nullable\":\"true\",\"collation\":\"\",\"character_maximum_length\":\"null\",\"precision\":{\"precision\":\"10\",\"scale\":\"2\"},\"default\":\"\"}],\"indexes\":[{\"schema\":\"\",\"table\":\"Departments\",\"name\":\"sqlite_autoindex_Departments_1\",\"column\":\"DepartmentID\",\"index_type\":\"B-TREE\",\"cardinality\":\"\",\"size\":\"\",\"unique\":\"true\",\"direction\":\"\",\"column_position\":1},{\"schema\":\"\",\"table\":\"Doctors\",\"name\":\"sqlite_autoindex_Doctors_1\",\"column\":\"DoctorID\",\"index_type\":\"B-TREE\",\"cardinality\":\"\",\"size\":\"\",\"unique\":\"true\",\"direction\":\"\",\"column_position\":1},{\"schema\":\"\",\"table\":\"Patients\",\"name\":\"sqlite_autoindex_Patients_1\",\"column\":\"PatientID\",\"index_type\":\"B-TREE\",\"cardinality\":\"\",\"size\":\"\",\"unique\":\"true\",\"direction\":\"\",\"column_position\":1},{\"schema\":\"\",\"table\":\"Appointments\",\"name\":\"sqlite_autoindex_Appointments_1\",\"column\":\"AppointmentID\",\"index_type\":\"B-TREE\",\"cardinality\":\"\",\"size\":\"\",\"unique\":\"true\",\"direction\":\"\",\"column_position\":1},{\"schema\":\"\",\"table\":\"MedicalRecords\",\"name\":\"sqlite_autoindex_MedicalRecords_1\",\"column\":\"RecordID\",\"index_type\":\"B-TREE\",\"cardinality\":\"\",\"size\":\"\",\"unique\":\"true\",\"direction\":\"\",\"column_position\":1},{\"schema\":\"\",\"table\":\"Treatments\",\"name\":\"sqlite_autoindex_Treatments_1\",\"column\":\"TreatmentID\",\"index_type\":\"B-TREE\",\"cardinality\":\"\",\"size\":\"\",\"unique\":\"true\",\"direction\":\"\",\"column_position\":1}],\"tables\":[{\"schema\":\"\",\"table\":\"Departments\",\"rows\":-1,\"type\":\"table\",\"engine\":\"\",\"collation\":\"\"},{\"schema\":\"\",\"table\":\"Doctors\",\"rows\":-1,\"type\":\"table\",\"engine\":\"\",\"collation\":\"\"},{\"schema\":\"\",\"table\":\"Patients\",\"rows\":-1,\"type\":\"table\",\"engine\":\"\",\"collation\":\"\"},{\"schema\":\"\",\"table\":\"Appointments\",\"rows\":-1,\"type\":\"table\",\"engine\":\"\",\"collation\":\"\"},{\"schema\":\"\",\"table\":\"MedicalRecords\",\"rows\":-1,\"type\":\"table\",\"engine\":\"\",\"collation\":\"\"},{\"schema\":\"\",\"table\":\"Treatments\",\"rows\":-1,\"type\":\"table\",\"engine\":\"\",\"collation\":\"\"}],\"views\":[],\"database_name\":\"sqlite\",\"version\":\"3.26.0\"}"
        ]
    ]
}